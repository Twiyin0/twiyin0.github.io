import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,f as n,o as l}from"./app-BjCY-e0R.js";const t={};function e(h,i){return l(),a("div",null,i[0]||(i[0]=[n(`<h1 id="php通过smtp向目标邮箱发送邮件" tabindex="-1"><a class="header-anchor" href="#php通过smtp向目标邮箱发送邮件"><span>php通过smtp向目标邮箱发送邮件</span></a></h1><h2 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h2><ul><li><a href="https://www.php.net" target="_blank" rel="noopener noreferrer">php</a></li><li><a href="https://getcomposer.org" target="_blank" rel="noopener noreferrer">composer</a></li></ul><p>添加PHPEmailer</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">composer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> phpmailer/phpmailer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="直接上代码吧" tabindex="-1"><a class="header-anchor" href="#直接上代码吧"><span>直接上代码吧</span></a></h2><div class="language-php line-numbers-mode" data-highlighter="shiki" data-ext="php" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#986801;--shiki-dark:#ABB2BF;">php</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PHPMailer\\PHPMailer\\</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">PHPMailer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PHPMailer\\PHPMailer\\</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Exception</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">require</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;vendor/autoload.php&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 创建一个新的 PHPMailer 实例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> PHPMailer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 配置 PHPMailer 实例以使用 SMTP</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isSMTP</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();                                          </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Host</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">       =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;smtp.exmail.example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// smtp服务器地址                 </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SMTPAuth</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">   =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;                                  </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Username</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">   =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;mail@example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;         </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 账户      </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Password</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">   =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ababababanananan&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;         </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 密码</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SMTPSecure</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ssl&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;                      </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 加密方式 ssl \\ tls</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Port</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">       =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 465</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;                        </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// smtp端口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setFrom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;mail@example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 发件人信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;aa@example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);            </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 添加收件人</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Subject</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;This is a test Email.&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;       </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 设置邮件主题</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Body</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Hello world!\\n&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;              </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 设置邮件正文</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()) {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;邮件已成功发送！&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;邮件发送失败：&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $mail</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ErrorInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>注意：<br> setFrom()函数里的邮件与Username一致，后面的name就随便啦~</p></div>`,8)]))}const r=s(t,[["render",e]]),d=JSON.parse('{"path":"/views/skill/php/php-mail.html","title":"php通过smtp向目标邮箱发送邮件","lang":"zh-CN","frontmatter":{"title":"php通过smtp向目标邮箱发送邮件","date":"2023-04-02T00:00:00.000Z","cover":"https://api.iin0.cn/img/acc?2","tags":["php"],"categories":["php"],"description":"php通过smtp向目标邮箱发送邮件 准备工作 php composer 添加PHPEmailer 直接上代码吧 提示 注意： setFrom()函数里的邮件与Username一致，后面的name就随便啦~","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"php通过smtp向目标邮箱发送邮件\\",\\"image\\":[\\"https://api.iin0.cn/img/acc?2\\"],\\"datePublished\\":\\"2023-04-02T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-16T13:44:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"暮色音铃Twiyin0\\"}]}"],["meta",{"property":"og:url","content":"https://blog.iin0.cn/views/skill/php/php-mail.html"}],["meta",{"property":"og:site_name","content":"音铃的博客"}],["meta",{"property":"og:title","content":"php通过smtp向目标邮箱发送邮件"}],["meta",{"property":"og:description","content":"php通过smtp向目标邮箱发送邮件 准备工作 php composer 添加PHPEmailer 直接上代码吧 提示 注意： setFrom()函数里的邮件与Username一致，后面的name就随便啦~"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://api.iin0.cn/img/acc?2"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-16T13:44:21.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://api.iin0.cn/img/acc?2"}],["meta",{"name":"twitter:image:alt","content":"php通过smtp向目标邮箱发送邮件"}],["meta",{"property":"article:tag","content":"php"}],["meta",{"property":"article:published_time","content":"2023-04-02T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-16T13:44:21.000Z"}]]},"git":{"createdTime":1680420809000,"updatedTime":1747403061000,"contributors":[{"name":"Twiyin0","username":"Twiyin0","email":"87588281+Twiyin0@users.noreply.github.com","commits":2,"url":"https://github.com/Twiyin0"},{"name":"vlssu","username":"vlssu","email":"43847794+vlssu@users.noreply.github.com","commits":1,"url":"https://github.com/vlssu"}]},"readingTime":{"minutes":0.77,"words":231},"filePathRelative":"views/skill/php/php-mail.md","excerpt":"\\n<h2>准备工作</h2>\\n<ul>\\n<li><a href=\\"https://www.php.net\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">php</a></li>\\n<li><a href=\\"https://getcomposer.org\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">composer</a></li>\\n</ul>\\n<p>添加PHPEmailer</p>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">composer</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> require</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> phpmailer/phpmailer</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{r as comp,d as data};
