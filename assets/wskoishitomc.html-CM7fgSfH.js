import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,b as i,a as n,f as l,e as a,o as h}from"./app-qdCY_QXA.js";const k="/assets/e731260190e39213d6e367f7d4c56ed7-CSK6ixhV.png",r="/assets/10EF3902-4F49-4c0b-B3EB-E8644F82A7B4-B7pdbdGD.png",p="/assets/DA064F6B-675C-4572-907F-BC672D5E8503-3uL47N82.png",c={};function o(d,s){return h(),t("div",null,[s[0]||(s[0]=i("h1",{id:"koishi与mc互通-websocket版",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#koishi与mc互通-websocket版"},[i("span",null,"koishi与mc互通(WebSocket版)")])],-1)),s[1]||(s[1]=i("p",null,[a("奶奶，爷爷七十年前做的插件更新了（）"),i("br"),a(" 之前使用的Socket协议不太行，最近发现个好东西"),i("a",{href:"https://github.com/17TheWord/QueQiao",target:"_blank",rel:"noopener noreferrer"},"鹊桥"),i("br"),a(" 支持插件服也支持MOD服，混合服也支持，比之前的要好的多")],-1)),n(" more "),s[2]||(s[2]=l(`<p>如果你是socket用户(v1.1.0)请移步至<a href="./koishiandmc">v1.1.0</a></p><h2 id="鹊桥" tabindex="-1"><a class="header-anchor" href="#鹊桥"><span>鹊桥</span></a></h2><p>将 Minecraft 服务端玩家事件以 Json 格式通过 Websocket 分发的服务端 plugin/mod。<br> 项目地址: <a href="https://github.com/17TheWord/QueQiao" target="_blank" rel="noopener noreferrer">Github</a><br> 下载地址: <a href="https://www.curseforge.com/minecraft/mc-mods/queqiao/files/all?page=1&amp;pageSize=20" target="_blank" rel="noopener noreferrer">Courseforge</a><br> 选择服务器版本对应的mod/插件进行下载<br> 如果你的服务器为插件服且版本&gt;=1.13使用<code>QueQiao-spigot+1.13</code>即可，1.12使用<code>1.12.2</code>的版本</p><h2 id="鹊桥配置项参考" tabindex="-1"><a class="header-anchor" href="#鹊桥配置项参考"><span>鹊桥配置项参考</span></a></h2><p>本插件作为<code>客户端</code>使用，mc服务端需要设置为<code>服务端</code>,你可以根据<a href="https://github.com/17TheWord/QueQiao/wiki/2.-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">鹊桥Wiki</a>设置，在保证端口可以使用的情况下是不用修改的。<br> 以下是我的配置文件</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 是否启用插件/模组</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">debug</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # DEBUG，开启后会打印所有日志</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">server_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;papermc&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 服务器名称，当有多个服务器时，请使用不同的命名</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">access_token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Toooken1234&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 用于连接时进行验证(对应插件的Token)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 消息前缀</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 消息前面添加的前缀（不包含Title、ActionBar）</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 设置为空时，不会在消息前面添加前缀</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">message_prefix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;互通&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># WebSocket Server配置项 鹊桥作为服务端使用 --- 此时koishi应为客户端</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">websocket_server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # 是否启用</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # WebSocket Server 地址</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2354</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # WebSocket Server 端口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># WebSocket Client配置项 鹊桥作为客户端使用 --- 这里的enable改成true的话koishi就得作为服务端使用</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">websocket_client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  enable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                 # 是否启用</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  reconnect_interval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         # 重连间隔（秒）</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  reconnect_max_times</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # 最大重连次数</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  url_list</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ws://172.26.128.1:23541/minecraft/ws&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 订阅事件配置项(建议都打开)</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">subscribe_event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_chat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 玩家聊天事件监听</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_death</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 玩家死亡事件监听</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 玩家登录事件监听</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_quit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 玩家退出事件监听</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  player_command</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 玩家命令事件监听</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="koishi对接鹊桥" tabindex="-1"><a class="header-anchor" href="#koishi对接鹊桥"><span>koishi对接鹊桥</span></a></h2><ul><li>效果演示<br> 对接完成后的效果<br><img src="`+k+'" alt="" loading="lazy"></li><li>按照<a href="#%E9%B9%8A%E6%A1%A5%E9%85%8D%E7%BD%AE%E9%A1%B9%E5%8F%82%E8%80%83">鹊桥配置项参考</a>配置鹊桥，启动mc服务器（以下以插件服为例）</li><li>安装koioshi插件<code>minecraft-sync-msg</code>，注意需要版本为<code>2.0.x-xxx</code></li><li>配置koishi插件，可以参考下图</li><li>作为服务端使用<br><img src="'+r+'" alt="" loading="lazy"></li><li>作为客户端使用<br><img src="'+p+'" alt="" loading="lazy"></li><li>然后启用插件即可</li></ul><h2 id="插件特殊说明" tabindex="-1"><a class="header-anchor" href="#插件特殊说明"><span>插件特殊说明</span></a></h2><ul><li>更新前请停止插件</li><li>插件仍可以使用&lt;at id=&quot;id号&quot;/&gt;来at群里的人,也可以使用&lt;image url=&quot;url&quot;/&gt;来发送图片</li><li>聊天平台(如qq群)使用<code>。#(消息)</code>或<code>.#(消息)</code>给mc服务器发送消息如<code>.#Hello</code></li><li>群里发送<code>&amp;{颜色单词}&amp;</code>可以改变发送到mc服务器的颜色,比如<code>.#你好呀&amp;gold&amp;</code></li><li>聊天平台(如qq群)使用<code>#/(指令)</code>可以给RCON发送指令<br> 示例: #/list (等价于mc内输入/list)</li></ul>',10))])}const y=e(c,[["render",o]]),A=JSON.parse('{"path":"/views/myblog/mc/wskoishitomc.html","title":"koishi与mc互通(WebSocket版)","lang":"zh-CN","frontmatter":{"title":"koishi与mc互通(WebSocket版)","date":"2024-11-18T00:00:00.000Z","cover":"https://api.iin0.cn/img/acc?12782","tags":["mc","koishi"],"categories":["myblog"],"description":"奶奶，爷爷七十年前做的插件更新了（） 之前使用的Socket协议不太行，最近发现个好东西鹊桥 支持插件服也支持MOD服，混合服也支持，比之前的要好的多","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"koishi与mc互通(WebSocket版)\\",\\"image\\":[\\"https://api.iin0.cn/img/acc?12782\\"],\\"datePublished\\":\\"2024-11-18T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-16T13:44:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"暮色音铃Twiyin0\\"}]}"],["meta",{"property":"og:url","content":"https://blog.iin0.cn/views/myblog/mc/wskoishitomc.html"}],["meta",{"property":"og:site_name","content":"音铃的博客"}],["meta",{"property":"og:title","content":"koishi与mc互通(WebSocket版)"}],["meta",{"property":"og:description","content":"奶奶，爷爷七十年前做的插件更新了（） 之前使用的Socket协议不太行，最近发现个好东西鹊桥 支持插件服也支持MOD服，混合服也支持，比之前的要好的多"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://api.iin0.cn/img/acc?12782"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-16T13:44:21.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://api.iin0.cn/img/acc?12782"}],["meta",{"name":"twitter:image:alt","content":"koishi与mc互通(WebSocket版)"}],["meta",{"property":"article:tag","content":"koishi"}],["meta",{"property":"article:tag","content":"mc"}],["meta",{"property":"article:published_time","content":"2024-11-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-16T13:44:21.000Z"}]]},"git":{"createdTime":1731909805000,"updatedTime":1747403061000,"contributors":[{"name":"Twiyin0","username":"Twiyin0","email":"87588281+Twiyin0@users.noreply.github.com","commits":4,"url":"https://github.com/Twiyin0"},{"name":"vlssu","username":"vlssu","email":"43847794+vlssu@users.noreply.github.com","commits":1,"url":"https://github.com/vlssu"}]},"readingTime":{"minutes":2.62,"words":786},"filePathRelative":"views/myblog/mc/wskoishitomc.md","excerpt":"\\n<p>奶奶，爷爷七十年前做的插件更新了（）<br>\\n之前使用的Socket协议不太行，最近发现个好东西<a href=\\"https://github.com/17TheWord/QueQiao\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">鹊桥</a><br>\\n支持插件服也支持MOD服，混合服也支持，比之前的要好的多</p>\\n","autoDesc":true}');export{y as comp,A as data};
