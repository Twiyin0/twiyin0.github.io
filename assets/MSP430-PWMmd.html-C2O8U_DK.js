import{_ as n,a as t,b as l,c as e}from"./schem-1-CDUQujeK.js";import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,b as s,a as k,f as r,e as a,o as d}from"./app-aKxBNdBY.js";const A="/assets/PWM-CCR-Ci17VOhJ.png",c={};function g(o,i){return d(),p("div",null,[i[0]||(i[0]=s("p",null,[a("电赛可能会限制使用TI公司的芯片"),s("br"),a(" 因此为了不让自己丢掉以前的知识"),s("br"),a(" 最好做个笔记，免得忘了就难受。")],-1)),k(" note "),i[1]||(i[1]=r('<h1 id="msp430输出pwm波-寄存器" tabindex="-1"><a class="header-anchor" href="#msp430输出pwm波-寄存器"><span>MSP430输出PWM波-寄存器</span></a></h1><h2 id="开发环境" tabindex="-1"><a class="header-anchor" href="#开发环境"><span>开发环境</span></a></h2><p>CCS v10.4.0 (Code Composer Studio 10.4.0)<br> 软件是免费的，随便百度一下就有了</p><h2 id="硬件" tabindex="-1"><a class="header-anchor" href="#硬件"><span>硬件</span></a></h2><p>MSP-EXP430F5529LP 即 MSP430F5529 特点<br><img src="'+n+'" alt="" loading="lazy"><br> 以上!<br><a href="https://www.ti.com.cn/cn/lit/ds/symlink/msp430f5529.pdf?ts=1657006504445&amp;ref_url=https%253A%252F%252Fwww.ti.com.cn%252Fproduct%252Fzh-cn%252FMSP430F5529%253FkeyMatch%253DMSP430F5529%2526tisearch%253Dsearch-everything%2526usecase%253DGPN" target="_blank" rel="noopener noreferrer">手册pdf</a><br> 板子是这个<br><img src="'+t+'" alt="" loading="lazy"><br> 原理图如下<br><img src="'+l+'" alt="" loading="lazy"><br> 板载仿真器<br><img src="'+e+'" alt="" loading="lazy"></p><h2 id="能输出pwm波的引脚" tabindex="-1"><a class="header-anchor" href="#能输出pwm波的引脚"><span>能输出PWM波的引脚</span></a></h2><p>看了用户手册，发现这些引脚是可以使用CCR输出PWM波的<br><img src="'+A+`" alt="" loading="lazy"><br> 我试了一 遍，除了被用做灯和按键的P10、P11、P21外都能的<br> 如果不能，可能芯片引脚有点问题，或者外接了其他东西</p><h2 id="代码部分" tabindex="-1"><a class="header-anchor" href="#代码部分"><span>代码部分</span></a></h2><p>寄存器配置的，所以看着代码来懂</p><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#include</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &lt;msp430.h&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#define</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  P12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   TA0CCR1</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              //该引脚置一，右边电机正转</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#define</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  P14</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   TA0CCR3</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              //该引脚置一，左边电机正转</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#define</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  P13</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   TA0CCR2</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              //该引脚置一，左边电机反转</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#define</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  P15</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">   TA0CCR4</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              //该引脚置一，右边电机反转</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> PWM_Init</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     P1DIR </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BIT3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT2</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT4;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  //配置P1.2,3,4,5口的为输出口</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     P1SEL </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> BIT3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT2</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">BIT4;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  //开启1.2，3，4，5口的io复用，因为要用来输出pwm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     unsigned</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> PWM_T</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     //设置PWM周期参数</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CCR0 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">PWM_T;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                //设置PWM周期</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CTL</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TASSEL_2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> MC_1;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       // 选择SMCKL + 选择比较模式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CCTL1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> OUTMOD_7;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           //设置TA0CCR1的PWM的输出模式为7模式 --reset/set模式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CCTL2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> OUTMOD_7;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CCTL3 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> OUTMOD_7;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     TA0CCTL4 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> OUTMOD_7;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //关闭看门狗，必须要这一步</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    WDTCTL </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> WDTPW </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> WDTHOLD;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    PWM_Init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*差速转弯*/</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    P12</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                       //右边电机得到占空比为1000/2000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    P15</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">500</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                        //左边电机得到的占空比为500/2000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    P13</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    P14</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">500</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是引脚要对应上CCR编号，比如P12对应CCR1，上图都有</p>`,11))])}const F=h(c,[["render",g]]),C=JSON.parse('{"path":"/views/skill/MCU/MSP430-PWMmd.html","title":"MSP430F5529输出PWM波-寄存器","lang":"zh-CN","frontmatter":{"title":"MSP430F5529输出PWM波-寄存器","date":"2022-07-05T00:00:00.000Z","collapsable":true,"cover":"https://img.twiyin0.cn/uploads/2022/628227f242096.jpg","tags":["单片机","C/C++"],"categories":["skill"],"description":"电赛可能会限制使用TI公司的芯片 因此为了不让自己丢掉以前的知识 最好做个笔记，免得忘了就难受。 MSP430输出PWM波-寄存器 开发环境 CCS v10.4.0 (Code Composer Studio 10.4.0) 软件是免费的，随便百度一下就有了 硬件 MSP-EXP430F5529LP 即 MSP430F5529 特点 以上! 手册pdf...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"MSP430F5529输出PWM波-寄存器\\",\\"image\\":[\\"https://img.twiyin0.cn/uploads/2022/628227f242096.jpg\\"],\\"datePublished\\":\\"2022-07-05T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-16T13:44:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"暮色音铃Twiyin0\\"}]}"],["meta",{"property":"og:url","content":"https://blog.iin0.cn/views/skill/MCU/MSP430-PWMmd.html"}],["meta",{"property":"og:site_name","content":"音铃的博客"}],["meta",{"property":"og:title","content":"MSP430F5529输出PWM波-寄存器"}],["meta",{"property":"og:description","content":"电赛可能会限制使用TI公司的芯片 因此为了不让自己丢掉以前的知识 最好做个笔记，免得忘了就难受。 MSP430输出PWM波-寄存器 开发环境 CCS v10.4.0 (Code Composer Studio 10.4.0) 软件是免费的，随便百度一下就有了 硬件 MSP-EXP430F5529LP 即 MSP430F5529 特点 以上! 手册pdf..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img.twiyin0.cn/uploads/2022/628227f242096.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-16T13:44:21.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:src","content":"https://img.twiyin0.cn/uploads/2022/628227f242096.jpg"}],["meta",{"name":"twitter:image:alt","content":"MSP430F5529输出PWM波-寄存器"}],["meta",{"property":"article:tag","content":"C/C++"}],["meta",{"property":"article:tag","content":"单片机"}],["meta",{"property":"article:published_time","content":"2022-07-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-16T13:44:21.000Z"}]]},"git":{"createdTime":1677920831000,"updatedTime":1747403061000,"contributors":[{"name":"Twiyin0","username":"Twiyin0","email":"yinlingcchan@outlook.com","commits":2,"url":"https://github.com/Twiyin0"},{"name":"vlssu","username":"vlssu","email":"43847794+vlssu@users.noreply.github.com","commits":1,"url":"https://github.com/vlssu"}]},"readingTime":{"minutes":1.68,"words":504},"filePathRelative":"views/skill/MCU/MSP430-PWMmd.md","excerpt":"<p>电赛可能会限制使用TI公司的芯片<br>\\n因此为了不让自己丢掉以前的知识<br>\\n最好做个笔记，免得忘了就难受。</p>\\n<!-- note -->\\n<h1>MSP430输出PWM波-寄存器</h1>\\n<h2>开发环境</h2>\\n<p>CCS v10.4.0 (Code Composer Studio 10.4.0)<br>\\n软件是免费的，随便百度一下就有了</p>\\n<h2>硬件</h2>\\n<p>MSP-EXP430F5529LP 即 MSP430F5529 特点<br>\\n<br>\\n以上!<br>\\n<a href=\\"https://www.ti.com.cn/cn/lit/ds/symlink/msp430f5529.pdf?ts=1657006504445&amp;ref_url=https%253A%252F%252Fwww.ti.com.cn%252Fproduct%252Fzh-cn%252FMSP430F5529%253FkeyMatch%253DMSP430F5529%2526tisearch%253Dsearch-everything%2526usecase%253DGPN\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">手册pdf</a><br>\\n板子是这个<br>\\n<br>\\n原理图如下<br>\\n<br>\\n板载仿真器<br>\\n</p>","autoDesc":true}');export{F as comp,C as data};
